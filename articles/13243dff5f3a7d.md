---
title: "Material UI ã®ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒè¨­å®šã«ã¤ã„ã¦ã®è¦šæ›¸"
emoji: "ğŸ“˜"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

ã“ã®è¨˜äº‹ã¯ã€[Gajeroll Advent Calendar 2022](https://qiita.com/advent-calendar/2022/gajeroll) ã® 19 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

## ã¯ã˜ã‚ã«

ã¿ã‚“ãªå¤§å¥½ãã€Material UIã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€Material UI ã‚’ä½¿ã†éš›ã®ãƒ†ãƒ¼ãƒè¨­å®šã®æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## Material UI ã¨ã¯

### Material UI ã¯ Material Design ã‚’å®Ÿè£…ã—ãŸã‚‚ã®

> Material UI is a library of React UI components that implements Google's Material Design.

å¼•ç”¨: [Overview - Material UI](https://mui.com/material-ui/getting-started/overview)

Google ã® Material Design ã¯ 2014 å¹´ã«åˆã‚ã¦ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã€2021 å¹´ã€æœ€æ–°ã® Material Design 3 ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚Material UI v5 ã§ã¯ã€1 ä¸–ä»£å‰ã® Material Design 2 ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚

### 2021 å¹´ã«åç§°ãŒå¤‰æ›´

Material UIï¼ŸMaterial Designï¼ŸMUIï¼Ÿä¼¼ãŸã‚ˆã†ãªåè©ãŒè¤‡æ•°ã‚ã‚Šã¾ã™ãŒã€ç¾åœ¨ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

> Starting today we are evolving our brand identity to clarifying the difference between our company and our products.
>
> - Material UI: the organization is now called MUI.
> - Material UI: the set of foundational MIT React components is now called MUI Core.
> - Material UI: the Material Design components developed by MUI. Also, we ditched the hyphen!
> - Material UI X: the set of advanced React components is now called MUI X.
>   Our previous name was no longer serving our areas of focus. We have grown our product offering. We needed a new identity to match our increased scope.

å¼•ç”¨: [Material UI is now MUI! - MUI](https://mui.com/blog/material-ui-is-now-mui/)

Material Design ã¯å…ˆè¿°ã®é€šã‚Šã€Google ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹

ç¾è¡Œã® Material UI ã¯ M2 ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚«ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚‚ M2 ã«æº–æ‹ ã—ã¾ã™ã€‚
ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã«ã¯ã€`createTheme` é–¢æ•°ã¨ `ThemeProvider` (ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)ã‚’ä½¿ã„ã¾ã™ã€‚

### `createTheme` é–¢æ•°

`createTheme` é–¢æ•°ã¯ã€å¼•æ•°ã¨ã—ã¦ `options` ã‚’ã¨ã‚Šã€ãã® `options` ã«åŸºã¥ã„ã¦ã€ãƒ†ãƒ¼ãƒã‚’ç”Ÿæˆã—ã¾ã™ã€‚
æˆ»ã‚Šå€¤ã‚’å¾Œè¿°ã® `ThemeProvider` ã® prop ã¨ã—ã¦æ¸¡ã—ã¾ã™ã€‚

### `ThemeProvider`

prop ã¨ã—ã¦ãƒ†ãƒ¼ãƒã‚’ã¨ã‚Šã€ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ†ãƒ¼ãƒã‚’é©ç”¨ã—ã¾ã™ã€‚
`App.jsx` ç­‰ã®ãƒ«ãƒ¼ãƒˆã«è¿‘ã„ã¨ã“ã‚ã§ä½¿ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

```js
import * as React from "react";
import { red } from "@mui/material/colors";
import { ThemeProvider, createTheme } from "@mui/material/styles";

const theme = createTheme({
  palette: {
    primary: {
      main: red[500],
    },
  },
});

function App() {
  return <ThemeProvider theme={theme}>...</ThemeProvider>;
}
```

å‚ç…§: [Theming - Material UI](https://mui.com/material-ui/customization/theming/#themeprovider)

ã¡ãªã¿ã«ã€Material Design 2 ã«æº–æ‹ ã™ã‚‹ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã‚’ä½œã‚ŠãŸã„å ´åˆã¯ã€ã“ã¡ã‚‰ã®å…¬å¼ã®ãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚

https://m2.material.io/resources/color

## ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«å¯¾å¿œã™ã‚‹

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ãƒ¼ãƒã‚’ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã«ã™ã‚‹ã«ã¯ã€ `createTheme` ã® `palette` ã® `mode` ã‚’ `dark` ã«è¨­å®šã™ã‚Œã°ã‚ˆã„ã§ã™ã€‚

```js
import { ThemeProvider, createTheme } from "@mui/material/styles";
import CssBaseline from "@mui/material/CssBaseline";

const darkTheme = createTheme({
  palette: {
    mode: "dark",
  },
});

function App() {
  return (
    <ThemeProvider theme={darkTheme}>
      <CssBaseline />
      <main>This app is using the dark mode</main>
    </ThemeProvider>
  );
}

export default App;
```

å‚ç…§: [Dark mode - Material UI](https://mui.com/material-ui/customization/dark-mode/#dark-mode-by-default)

### ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ã§ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’å¤‰ãˆã‚‹

å‰é …ã®æ–¹æ³•ã§ã¯ã€å¸¸ã«ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã§è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚
ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ã®ãƒ†ãƒ¼ãƒã«å¿œã˜ã¦ç•°ãªã‚‹ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ä½¿ã†ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã€ãƒ¢ãƒ¼ãƒ‰ã‚’å¼•æ•°ã«ã¨ã£ã¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™é–¢æ•°ã‚’ç”¨æ„ã—ã¾ã™ã€‚

```js
const getDesignTokens = (mode: PaletteMode) => ({
  palette: {
    mode,
    ...(mode === "light"
      ? {
          // palette values for light mode
          primary: amber,
          secondary: amber[200],
        }
      : {
          // palette values for dark mode
          primary: deepOrange,
          secondary: deepOrange[700],
        }),
  },
});
```

å¼•ç”¨å…ƒ: [Dark mode - Material UI](https://mui.com/material-ui/customization/dark-mode/#dark-mode-with-a-custom-palette)

### ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ã‚’åˆ‡ã‚Šæ›¿ãˆ

ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ã§ãƒ†ãƒ¼ãƒã®åˆ‡ã‚Šæ›¿ãˆã¯ã€ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã® `mode` ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚
React ã®ãƒ•ãƒƒã‚¯ã‚’ä½¿ãˆã°å®¹æ˜“ã«å®Ÿè£…ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚ä»¥ä¸‹ã¯ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å¼•ç”¨ã—ã¦ã„ã¾ã™ã€‚

```js
import * as React from "react";
import IconButton from "@mui/material/IconButton";
import Box from "@mui/material/Box";
import { useTheme, ThemeProvider, createTheme } from "@mui/material/styles";
import Brightness4Icon from "@mui/icons-material/Brightness4";
import Brightness7Icon from "@mui/icons-material/Brightness7";

const ColorModeContext = React.createContext({ toggleColorMode: () => {} });

function MyApp() {
  const theme = useTheme();
  const colorMode = React.useContext(ColorModeContext);
  return (
    <Box
      sx={{
        display: "flex",
        width: "100%",
        alignItems: "center",
        justifyContent: "center",
        bgcolor: "background.default",
        color: "text.primary",
        borderRadius: 1,
        p: 3,
      }}
    >
      {theme.palette.mode} mode
      <IconButton
        sx={{ ml: 1 }}
        onClick={colorMode.toggleColorMode}
        color="inherit"
      >
        {theme.palette.mode === "dark" ? (
          <Brightness7Icon />
        ) : (
          <Brightness4Icon />
        )}
      </IconButton>
    </Box>
  );
}

export default function ToggleColorMode() {
  const [mode, setMode] = React.useState("light");
  const colorMode = React.useMemo(
    () => ({
      toggleColorMode: () => {
        setMode((prevMode) => (prevMode === "light" ? "dark" : "light"));
      },
    }),
    []
  );

  const theme = React.useMemo(
    () =>
      createTheme({
        palette: {
          mode,
        },
      }),
    [mode]
  );

  return (
    <ColorModeContext.Provider value={colorMode}>
      <ThemeProvider theme={theme}>
        <MyApp />
      </ThemeProvider>
    </ColorModeContext.Provider>
  );
}
```

å¼•ç”¨: [Dark mode - Material UI](https://mui.com/material-ui/customization/dark-mode/#toggling-color-mode)

## ãƒ‡ãƒã‚¤ã‚¹ã®ãƒ†ãƒ¼ãƒè¨­å®šã‚’ä½¿ã†

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã‚’ OS ã®ãƒ†ãƒ¼ãƒã«åˆã‚ã›ã‚‹ã«ã¯ã€`useMediaQuery` ã¨ã„ã† API ã‚’ä½¿ã„ã¾ã™ã€‚
`useMediaQuery` ã¯å¼•æ•°ã§æ¸¡ã—ãŸ CSS ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªãŒæ­£ã—ã„ã‹ã©ã†ã‹ã®çœŸå½å€¤ã‚’è¿”ã—ã¾ã™ã€‚
ã“ã®é–¢æ•°ã®å¼•æ•°ã¨ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚·ã‚¹ãƒ†ãƒ ã®ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒãŒãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã§ã‚ã‚‹ã¨ã„ã†æ—¨ã® `(prefers-color-scheme: dark)')` ã‚’æŒ‡å®šã™ã‚Œã°ã€ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã«ã¯ `true`ã€ãã†ã§ãªã„å ´åˆã«ã¯ `false` ã‚’è¿”ã—ã¾ã™ã€‚

```js
import * as React from "react";
import useMediaQuery from "@mui/material/useMediaQuery";
import { createTheme, ThemeProvider } from "@mui/material/styles";
import CssBaseline from "@mui/material/CssBaseline";

function App() {
  const prefersDarkMode = useMediaQuery("(prefers-color-scheme: dark)");

  const theme = React.useMemo(
    () =>
      createTheme({
        palette: {
          mode: prefersDarkMode ? "dark" : "light",
        },
      }),
    [prefersDarkMode]
  );

  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <Routes />
    </ThemeProvider>
  );
}
```

å¼•ç”¨: [Dark mode - Material UI](https://mui.com/material-ui/customization/dark-mode/#system-preference)

## ãŠã‚ã‚Šã«

æœ€å¾Œã¾ã§ã”è¦§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
PC ãƒ­ãƒ¼ãƒ«ã§ã¯ã€ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã¾ã¨ã‚ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
ã¾ãŸã€ãŠã™ã™ã‚ã®ã‚¬ã‚¸ã‚§ãƒƒãƒˆã«ã¤ã„ã¦å¹…åºƒãç´¹ä»‹ã—ã¦ã„ãã€ã‚¬ã‚¸ã‚§ãƒ­ãƒ¼ãƒ«ã‚‚ã‚ã‚Šã¾ã™ã€‚
ã‚¬ã‚¸ã‚§ãƒƒãƒˆã‚„ã‚½ãƒ•ãƒˆã‚’ä½¿ã†ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ»ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã¯ãœã²ã”è¦§ãã ã•ã„ã€‚

https://gajeroll.com/

https://pc.gajeroll.com/
